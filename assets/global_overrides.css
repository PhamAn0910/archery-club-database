/* global_overrides.css
   Centralized Streamlit overrides that map Streamlit widget selectors
   to the project's design tokens (colors, spacing, radii, fonts).

   Keep rules defensive (use element selectors and data-testid where
   available) to reduce coupling to internal Streamlit class names.
*/

/* Base typography and tokens */
:root {
  --ui-font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --ui-font-size: 16px;
  --ui-radius: var(--radius, 0.625rem);
}

html, body, .stApp {
  font-family: var(--ui-font-family);
  font-size: var(--ui-font-size);
  color: var(--color-foreground, #111);
  background: var(--color-background, #fff);
}

/* Headings inside Streamlit markdown should inherit tokens */
.stMarkdown h1, .stMarkdown h2, .stMarkdown h3, .stMarkdown h4 {
  /* color: var(--color-foreground, #111); */
  font-weight: 600;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
}

/* Buttons: map primary/secondary look using tokens */
.stButton > button {
  border-radius: calc(var(--ui-radius));
  padding: 0.5rem 0.75rem;
  background: var(--color-primary, #030213);
  color: var(--color-primary-foreground, #fff);
  box-shadow: none;
}

/* Secondary-looking buttons (when Streamlit marks them differently) */
.stButton[role] > button[aria-pressed="false"] {
  background: transparent;
  /* color: var(--color-foreground, #111); */
}

/* Inputs: text, number, textarea */
textarea, select {
/* input[type="text"], input[type="number"], 
do NOT include these 2 class 
if want the st.number_input use Streamlit default theme 
when toggling OS-level dark and light modes */ 
  background: var(--color-input-background, #f3f3f5);
  /* color: var(--color-foreground, #111); */
  /* border: 1px solid var(--color-border, rgba(0,0,0,0.08)); */
  border: 1px solid;
  padding: 8px 10px;
  border-radius: calc(var(--ui-radius) - 4px);
}

/* Form labels and small text */
.stForm label, .stText, .stCaption {
  color: var(--color-muted-foreground, #6b6b6b);
}

/* Tables and dataframes */
.stDataFrame table, table {
  border-collapse: separate;
  border-spacing: 0;
  width: 100%;
  border-radius: calc(var(--ui-radius));
  overflow: hidden;
}
.stDataFrame thead th {
  background: var(--color-accent, #f3f3f5);
  color: var(--color-accent-foreground, #000);
}

/* Cards used in preview/content */
.preview-card, .card, .stBlock {
  background: var(--color-card, #fff);
  color: var(--color-card-foreground, #000);
  border-radius: calc(var(--ui-radius));
  padding: 12px;
  box-shadow: 0 1px 4px rgba(2,6,23,0.06);
}

/* Sidebar spacing (scoped) */
[data-testid="stSidebar"] {
  gap: 8px;
}

/* Small utilities */
.muted { color: var(--color-muted-foreground, #6b6b6b); }

/* Info / alert boxes generated by Streamlit (st.info, st.warning, etc.)
   Use defensive selectors; Streamlit uses a few internal classes so we
   include commonly-seen names and a generic fallback for elements with
   role="status". These rules map to the project's accent tokens. */
.stAlert, .stInfo, .stWarning, .stSuccess, .stError,
[role="status"] {
  background: var(--color-accent, #f3f3f5);
  color: var(--color-accent-foreground, #000);
  padding: 10px 12px;
  border-radius: calc(var(--ui-radius));
  border-left: 4px solid var(--color-primary, #030213);
}

/* Metrics: adapt Streamlit metric/card look to tokens. Streamlit marks
   metric values with a few internal structures; we style both common
   class names and generic descendants to be robust. */
.stMetric, .stMetricValue, .stMetricDelta,
.stMetric > div, .stMetricValue > div {
  font-family: var(--ui-font-family);
  color: var(--color-primary, #030213);
}

/* Selectbox / dropdown fallbacks: Streamlit sometimes uses native select
   elements or custom divs â€” we style both. */
select, .stSelectbox select, .stSelectbox div[role="combobox"] {
  background: var(--color-input-background, #f3f3f5);
  border: 1px solid var(--color-border, rgba(0,0,0,0.08));
  padding: 8px 10px;
  border-radius: calc(var(--ui-radius) - 4px);
  /* color: var(--color-foreground, #111); */
}

/* Tabs: make Streamlit tabs align with tokens */
.stTabs, .stTabs button, .stTabs [role="tab"] {
  font-family: var(--ui-font-family);
  /* color: var(--color-foreground, #111); */
}
.stTabs [role="tab"][aria-selected="true"] {
  background: var(--color-secondary, #f0f0f0);
  /* color: var(--color-secondary-foreground, #000); */
  border-radius: calc(var(--ui-radius));
}

/* Small media & layout helpers to keep spacing consistent */
.stColumns, .stColumn, .st-col, .stBlock, .stContainer {
  gap: 12px;
}

/* Dataframe/table tweaks (more readable rows & header tokens) */
table, .stDataFrame table {
  font-family: var(--ui-font-family);
  font-size: 14px;
}
table thead th {
  background: var(--color-accent, #f3f3f5) !important;
  /* color: var(--color-accent-foreground, #000) !important; */
  font-weight: 600;
}

