/* --- Neutralise Streamlit's built-in sidebar header styles to
    keep the sidebar compact at the top; specific header rules below
    neutralise any injected React/global rules that target header-like
    elements so we don't get an unexpected dark band at the top */
[data-testid="stSidebarHeader"] {
    display: none;
}

[data-testid="stSidebarContent"] {
    padding-top: 0;
    margin-top: 0;
    padding: 0 0.6rem 0 0.3rem;
}

[data-testid="stSidebarUserContent"] {
    padding: 0;
    margin: 0 0.2rem;
}

.stButton > button[kind="tertiary"] {
    background-color: #FFFFFF;
}

/* Kill global gap */
[data-testid="stSidebar"] [data-testid="stVerticalBlock"] {
  gap: 0;
}

/* Remove gap between nav buttons only */
[data-testid="stSidebar"] [data-testid="stVerticalBlock"]
  > [data-testid="stElementContainer"]:has(
    .stButton > button[kind="secondary"], 
    .stButton > button[kind="primary"], 
    .stMarkdown > [data-testid="stMarkdownContainer"] > hr, h2, [data-testid="InputInstructions"]) {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* Re-create default spacing for most children */
[data-testid="stSidebar"] [data-testid="stVerticalBlock"] 
  > [data-testid="stElementContainer"]:not(:has(.stButton > button[kind="secondary"]), :has(.stButton > button[kind="primary"])) {
  margin-bottom: 1rem;
}

/* Align nav buttons to the left */
.stSidebar .stButton > button[kind="secondary"],
.stSidebar .stButton > button[kind="primary"] {
  justify-content: flex-start;
}

/* Sidebar container */
.stSidebar {
  min-width: 180px;
}

.section-header, .section-small {
  padding: 18px 0 6px 0;
}

/* Sidebar title */
#custom-sidebar h2 {
  padding: 0 !important;
  font-weight: 700;
  background: transparent;
}

/* Profile card */
.profile-top {
  color: #6b6b6b;
  font-size: 13px;
  margin-top: 19px;
}

.profile-name {
  font-weight: 600;
  margin-top: 2px;
  margin-bottom: 2px;
  color: #111111;
}

.profile-av {
  color: #7b7b7b;
  font-size: 13px;
  margin-bottom: 8px;
}

/* Some injected CSS targets the first child of containers; ensure the
   first rendered element inside the Streamlit sidebar is transparent
   and doesn't form a dark band. Use !important sparingly but here it's
   needed to beat upstream injected rules that are global. */
[data-testid="stSidebar"] > *:first-child,
#custom-sidebar > *:first-child {
  /* background: transparent !important; */
  margin-top: 0 !important;
  padding-top: 0 !important;
  gap: 0 !important;
}

/* Ensure there is absolutely no unexpected top gap inside the
   sidebar regardless of upstream global rules. These selectors are
   intentionally specific to avoid touching other app areas. */
[data-testid="stSidebar"] > div,
[data-testid="stSidebar"] > div > div,
#custom-sidebar {
  margin-top: 0 !important;
  padding-top: 0 !important;
}

/* Reduce spacing produced by Markdown hr lines inside the sidebar */
hr {
  border-top: 1px solid var(--color-border, rgba(0,0,0,0.06));
  min-width: 100%;
  margin-left: -2em !important;
  margin-right: -2em !important;
}

.title-divider {
  margin-top: 6px !important;
  margin-bottom: -6px !important;
}

.section-divider {
  margin-top: 0 !important;
  margin-bottom: 36px !important;
}

.footer-divider {
  margin-top: 12px !important;
  margin-bottom: 22px !important;
}

/* STEP 2: Base styles for ALL sidebar buttons - ONLY non-color properties */
[data-testid="stSidebar"] .stButton > button,
[data-testid="stSidebar"] .stSidebar .stButton > button {
  outline: none !important;
  box-shadow: none !important;
  transition: background 120ms ease, border-color 150ms ease !important;
  padding: 8px 12px !important;
  border-radius: 8px !important;
  border: transparent !important;
  width: 100% !important;
}

[data-testid="stSidebar"] .stButton > button:focus,
[data-testid="stSidebar"] .stButton > button:focus-visible,
[data-testid="stSidebar"] .stButton > button:active {
  outline: none !important;
  box-shadow: none !important;
}

/* STEP 5: Navigation buttons with type="secondary" - Transparent (unselected) */
[data-testid="stSidebar"] .stButton > button[kind="secondary"],
[data-testid="stSidebar"] .stButton > button[kind="secondaryFormSubmit"],
[data-testid="stSidebar"] .stSidebar .stButton > button[kind="secondary"],
[data-testid="stSidebar"] .stSidebar .stButton > button[kind="secondaryFormSubmit"] {
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  color: #111111 !important;
  font-weight: 400 !important;
}

/* Secondary hover: White background */
[data-testid="stSidebar"] .stButton > button[kind="secondary"]:hover,
[data-testid="stSidebar"] .stSidebar .stButton > button[kind="secondary"]:hover,
[data-testid="stSidebar"] .stButton > button[kind="secondaryFormSubmit"]:hover,
[data-testid="stSidebar"] .stSidebar .stButton > button[kind="secondaryFormSubmit"]:hover {
  background: #FFFFFF !important;
  background-color: #FFFFFF !important;
  color: #111111 !important;
}
